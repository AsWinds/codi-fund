<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.codi.bus.core.dao.AppVersionInfoMapper" >
  <resultMap id="BaseResultMap" type="com.codi.bus.core.domain.AppVersionInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    <id column="av_id" property="id" jdbcType="BIGINT" />
    <result column="av_app_identifier" property="appIdentifier" jdbcType="CHAR" />
    <result column="av_app_name" property="appName" jdbcType="CHAR" />
    <result column="av_version" property="version" jdbcType="CHAR" />
    <result column="av_platform" property="platform" jdbcType="CHAR" />
    <result column="av_need_forece_update" property="needForeceUpdate" jdbcType="BIT" />
    <result column="av_download_path" property="downloadPath" jdbcType="CHAR" />
    <result column="av_create_date" property="createDate" jdbcType="TIMESTAMP" />
    <result column="av_last_updated_date" property="lastUpdatedDate" jdbcType="TIMESTAMP" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.codi.bus.core.domain.AppVersionInfo" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    <result column="av_release_notes" property="releaseNotes" jdbcType="LONGVARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    av_id, av_app_identifier, av_app_name, av_version, av_platform, av_need_forece_update, av_download_path, 
    av_create_date, av_last_updated_date
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    av_release_notes
  </sql>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from av_app_version
    where av_id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    delete from av_app_version
    where av_id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.codi.bus.core.domain.AppVersionInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    insert into av_app_version (av_id, av_app_identifier, av_app_name, 
      av_version, av_platform, av_need_forece_update, av_download_path 
      av_create_date, av_last_updated_date, av_release_notes
      )
    values (#{id,jdbcType=BIGINT}, #{appIdentifier,jdbcType=CHAR}, #{appName,jdbcType=CHAR}, 
      #{version,jdbcType=CHAR}, #{platform,jdbcType=CHAR}, #{needForeceUpdate,jdbcType=BIT}, #{downloadPath,jdbcType=CHAR}, 
      #{createDate,jdbcType=TIMESTAMP}, #{lastUpdatedDate,jdbcType=TIMESTAMP}, #{releaseNotes,jdbcType=LONGVARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.codi.bus.core.domain.AppVersionInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    insert into av_app_version
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        av_id,
      </if>
      <if test="appIdentifier != null" >
        av_app_identifier,
      </if>
      <if test="appName != null" >
        av_app_name,
      </if>
      <if test="version != null" >
        av_version,
      </if>
      <if test="platform != null" >
        av_platform,
      </if>
      <if test="needForeceUpdate != null" >
        av_need_forece_update,
      </if>
      <if test="downloadPath != null" >
        av_download_path,
      </if>
      <if test="createDate != null" >
        av_create_date,
      </if>
      <if test="lastUpdatedDate != null" >
        av_last_updated_date,
      </if>
      <if test="releaseNotes != null" >
        av_release_notes,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="appIdentifier != null" >
        #{appIdentifier,jdbcType=CHAR},
      </if>
      <if test="appName != null" >
        #{appName,jdbcType=CHAR},
      </if>
      <if test="version != null" >
        #{version,jdbcType=CHAR},
      </if>
      <if test="platform != null" >
        #{platform,jdbcType=CHAR},
      </if>
      <if test="needForeceUpdate != null" >
        #{needForeceUpdate,jdbcType=BIT},
      </if>
      <if test="downloadPath != null" >
        #{av_download_path,jdbcType=CHAR},
      </if>
      <if test="createDate != null" >
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdatedDate != null" >
        #{lastUpdatedDate,jdbcType=TIMESTAMP},
      </if>
      <if test="releaseNotes != null" >
        #{releaseNotes,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.codi.bus.core.domain.AppVersionInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    update av_app_version
    <set >
      <if test="appIdentifier != null" >
        av_app_identifier = #{appIdentifier,jdbcType=CHAR},
      </if>
      <if test="appName != null" >
        av_app_name = #{appName,jdbcType=CHAR},
      </if>
      <if test="version != null" >
        av_version = #{version,jdbcType=CHAR},
      </if>
      <if test="platform != null" >
        av_platform = #{platform,jdbcType=CHAR},
      </if>
      <if test="needForeceUpdate != null" >
        av_need_forece_update = #{needForeceUpdate,jdbcType=BIT},
      </if>
      <if test="downloadPath != null" >
        #{av_download_path,jdbcType=CHAR},
      </if>
      <if test="createDate != null" >
        av_create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdatedDate != null" >
        av_last_updated_date = #{lastUpdatedDate,jdbcType=TIMESTAMP},
      </if>
      <if test="releaseNotes != null" >
        av_release_notes = #{releaseNotes,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where av_id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.codi.bus.core.domain.AppVersionInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    update av_app_version
    set av_app_identifier = #{appIdentifier,jdbcType=CHAR},
      av_app_name = #{appName,jdbcType=CHAR},
      av_version = #{version,jdbcType=CHAR},
      av_platform = #{platform,jdbcType=CHAR},
      av_need_forece_update = #{needForeceUpdate,jdbcType=BIT},
      av_download_path = #{downloadPath,jdbcType=CHAR},
      av_create_date = #{createDate,jdbcType=TIMESTAMP},
      av_last_updated_date = #{lastUpdatedDate,jdbcType=TIMESTAMP},
      av_release_notes = #{releaseNotes,jdbcType=LONGVARCHAR}
    where av_id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.codi.bus.core.domain.AppVersionInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 18 16:11:30 CST 2016.
    -->
    update av_app_version
    set av_app_identifier = #{appIdentifier,jdbcType=CHAR},
      av_app_name = #{appName,jdbcType=CHAR},
      av_version = #{version,jdbcType=CHAR},
      av_platform = #{platform,jdbcType=CHAR},
      av_need_forece_update = #{needForeceUpdate,jdbcType=BIT},
      av_download_path = #{downloadPath,jdbcType=CHAR},
      av_create_date = #{createDate,jdbcType=TIMESTAMP},
      av_last_updated_date = #{lastUpdatedDate,jdbcType=TIMESTAMP}
    where av_id = #{id,jdbcType=BIGINT}
  </update>
  
	<select id="findAll" parameterType="com.codi.bus.core.domain.AppVersionInfo" resultMap="ResultMapWithBLOBs">
		SELECT
	    <include refid="Base_Column_List" />,
        <include refid="Blob_Column_List" />
		from av_app_version
	</select>
  
	<select id="slectAppVersion" parameterType="com.codi.bus.core.domain.AppVersionInfo" resultMap="ResultMapWithBLOBs">
		SELECT
	    <include refid="Base_Column_List" />,
        <include refid="Blob_Column_List" />
		from av_app_version WHERE 
		av_app_identifier = #{appIdentifier,jdbcType=CHAR} AND av_platform = #{platform,jdbcType=CHAR} AND av_version = #{version,jdbcType=CHAR}
	</select>
	
	<select id="slectMaxIdRecord" parameterType="com.codi.bus.core.domain.AppVersionInfo" resultMap="ResultMapWithBLOBs">
		SELECT
		<include refid="Base_Column_List" />,
	    <include refid="Blob_Column_List" />
	    FROM av_app_version where av_id = 
	    (SELECT MAX(av_id) FROM av_app_version WHERE av_app_identifier = #{appIdentifier,jdbcType=CHAR} AND av_platform = #{platform,jdbcType=CHAR})
	</select>
	
	<select id="slectRecordsAfterId" parameterType="com.codi.bus.core.domain.AppVersionInfo" resultMap="ResultMapWithBLOBs">
		SELECT
		<include refid="Base_Column_List" />,
		<include refid="Blob_Column_List" />
		FROM av_app_version where av_id > #{id,jdbcType=BIGINT}
		AND av_app_identifier = #{appIdentifier,jdbcType=CHAR}
		AND av_platform = #{platform,jdbcType=CHAR}
	</select>
	
</mapper>